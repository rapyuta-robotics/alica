<?xml version="1.0" encoding="UTF-8"?>
<launch>
    <arg name="use_gdb" default="$(optenv GDB false)"/>
    <arg name="launch_prefix" value="xterm -sl 100000 -fa 'Monospace' -fs 12 -e gdb --args" if="$(arg use_gdb)"/>
    <arg name="launch_prefix" value="" unless="$(arg use_gdb)"/>
    <arg name="master_plan"    default="Master" />
    <arg name="roleset"        default="Roleset" />
    <arg name="alica_path"     default="$(find alica_ros_turtlesim)" />
    <arg name="dynamic"        default="false" />

    <arg name="turtles"        default="1"/>

    <arg name="agent_name"     value="$(eval 'turtle'+str(turtles))"/>
    <node name="$(arg agent_name)" pkg="alica_ros_turtlesim" type="alica_ros_turtlesim" output="screen" launch-prefix="$(arg launch_prefix)">
        <param name="name"         value="$(arg agent_name)" />
        <param name="agent_id"     value="$(arg turtles)" />
        <param name="master_plan"  value="$(arg master_plan)" />
        <param name="roleset"      value="$(arg roleset)" />
        <param name="alica_path"   value="$(arg alica_path)" />
        <param name="dynamic"      value="$(arg dynamic)" />
    </node>

    <include file="$(dirname)/turtle.launch"   if="$(eval turtles > 1)">
        <arg name="turtles"         value="$(eval turtles - 1)" />
        <arg name="use_gdb"         value="$(arg use_gdb)"/>
        <arg name="master_plan"     value="$(arg master_plan)" />
        <arg name="roleset"         value="$(arg roleset)" />
        <arg name="alica_path"      value="$(arg alica_path)" />
        <arg name="dynamic"         value="$(arg dynamic)" />
    </include>

</launch>
